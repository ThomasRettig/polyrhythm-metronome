{"version":3,"sources":["sounds/hi.ogg","sounds/low.ogg","components/Geometry.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","Geometry","props","_this","Object","classCallCheck","this","colors","possibleConstructorReturn","getPrototypeOf","call","state","tempo","playing","ball","animationOpacity","inner","bigRadius","smallRadius","fill","stroke","radiusEasing","Power4","easeIn","outer","Power2","polygons","lineWidth","color","sides","render","origin","x","y","width","height","innerRadius","outerRadius","initializeTwo","drawShapes","mySVG","refs","geoCanvas","children","setAttribute","prevProps","prevState","setState","stop","handleStop","sides1","objectSpread","restart","sides2","play","initiateBeatCircles","timelineSetup","timeline1","timeline2","radiusFlash1","radiusFlash2","remove","getChildren","two","clear","params","autostart","Two","appendTo","shape1","makePolygon","shape2","linewidth","rotation","Math","PI","noFill","points","getPoints","beatCircle1","makeCircle","opacity","beatCircle2","duration","clicker1","Tone","Player","url","hi","toMaster","clicker2","low","TimelineMax","repeat","points1","i","length","add","TweenMax","to","translation","ease","onComplete","start","radius","easeOut","points2","shape","vertex","vertices","point","rotatePoints","push","cx","cy","angle","radians","cos","sin","react_default","a","createElement","ref","className","React","Component","App","handleClick","e","handleTempo","target","value","parseInt","handleSides1","handleSides2","class","onInput","type","defaultValue","min","max","onClick","src_components_Geometry","bind","href","Boolean","window","location","hostname","match","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.a32235f0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/hi.e676fecf.ogg\";","module.exports = __webpack_public_path__ + \"static/media/low.00ba1b64.ogg\";","import React from \"react\";\nimport Tone from \"tone\";\nimport Two from \"two.js\";\nimport { TweenMax, Power2, Power4 } from \"gsap/TweenMax\";\nimport { TimelineMax } from \"gsap/TimelineMax\";\nimport hi from \"../sounds/hi.ogg\";\nimport low from \"../sounds/low.ogg\";\nimport \"./Geometry.scss\";\n\nclass Geometry extends React.Component {\n  constructor(props) {\n    super(props);\n    let colors = [\n      \"hsl(348, 100%, 61%)\",\n      \"hsl(348, 100%, 61%)\",\n      \"hsl(204, 86%, 53%)\",\n      \"hsl(204, 86%, 53%)\"\n    ];\n    this.state = {\n      tempo: 100,\n      playing: false,\n      ball: {\n        animationOpacity: 0.7,\n        inner: {\n          bigRadius: 25,\n          smallRadius: 10,\n          fill: colors[1],\n          stroke: colors[1],\n          radiusEasing: Power4.easeIn\n        },\n        outer: {\n          bigRadius: 25,\n          smallRadius: 10,\n          fill: colors[3],\n          stroke: colors[3],\n          radiusEasing: Power2.easeIn\n        }\n      },\n      polygons: {\n        lineWidth: 2,\n        inner: { color: colors[0], sides: 3 },\n        outer: { color: colors[2], sides: 4 }\n      },\n      render: {\n        origin: { x: 250, y: 250 },\n        width: 500,\n        height: 500,\n        innerRadius: 100,\n        outerRadius: 200\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.initializeTwo();\n    this.drawShapes();\n    var mySVG = this.refs.geoCanvas.children[0];\n    mySVG.setAttribute(\"viewBox\", \"0 0 500 500\");\n    mySVG.setAttribute(\"class\", \"geoSVG\");\n    // mySVG.setAttribute(\"shape-rendering\", \"geometricPrecision\");\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.tempo !== prevProps.tempo) {\n      this.setState({ tempo: this.props.tempo });\n      this.stop();\n      this.props.handleStop();\n    }\n\n    if (this.props.sides1 !== prevProps.sides1) {\n      let polygons = { ...this.state.polygons };\n      polygons.inner.sides = this.props.sides1;\n      this.setState({ polygons: polygons });\n      this.restart();\n    }\n\n    if (this.props.sides2 !== prevProps.sides2) {\n      let polygons = { ...this.state.polygons };\n      polygons.outer.sides = this.props.sides2;\n      this.setState({ polygons: polygons });\n      this.restart();\n    }\n\n    if (this.props.playing !== prevProps.playing) {\n      if (this.props.playing) {\n        this.play();\n      } else {\n        this.stop();\n      }\n    }\n  }\n\n  restart() {\n    this.stop();\n    if (this.state.playing) {\n      this.play();\n    }\n  }\n\n  play() {\n    this.setState({ playing: true });\n    this.initiateBeatCircles();\n    this.timelineSetup();\n    this.timeline1.play();\n    this.timeline2.play();\n    this.radiusFlash1.play();\n    this.radiusFlash2.play();\n  }\n\n  stop() {\n    if (typeof this.timeline1 !== \"undefined\") {\n      this.setState({ playing: false });\n      this.timeline1.remove(this.timeline1.getChildren());\n      this.timeline2.remove(this.timeline2.getChildren());\n      this.radiusFlash1.remove();\n      this.radiusFlash2.remove();\n    }\n    this.two.clear();\n    this.drawShapes();\n  }\n\n  initializeTwo() {\n    let params = {\n      width: this.state.render.width,\n      height: this.state.render.height,\n      autostart: true\n    };\n    this.two = new Two(params).appendTo(this.refs.geoCanvas);\n  }\n\n  drawShapes() {\n    let shape1 = this.two.makePolygon(\n      this.state.render.origin.x,\n      this.state.render.origin.y,\n      this.state.render.innerRadius,\n      this.state.polygons.inner.sides\n    );\n    let shape2 = this.two.makePolygon(\n      this.state.render.origin.x,\n      this.state.render.origin.y,\n      this.state.render.outerRadius,\n      this.state.polygons.outer.sides\n    );\n\n    shape1.stroke = this.state.polygons.inner.color;\n    shape1.linewidth = this.state.polygons.lineWidth;\n    shape1.rotation = Math.PI + Math.PI / this.state.polygons.inner.sides;\n    shape1.noFill();\n    shape1.points = this.getPoints(shape1, this.state.polygons.inner.sides);\n    shape1.sides = this.state.polygons.inner.sides;\n\n    shape2.stroke = this.state.polygons.outer.color;\n    shape2.linewidth = this.state.polygons.lineWidth;\n    shape2.rotation = Math.PI + Math.PI / this.state.polygons.outer.sides;\n    shape2.noFill();\n    shape2.points = this.getPoints(shape2, this.state.polygons.outer.sides);\n    shape2.sides = this.state.polygons.outer.sides;\n\n    this.shape1 = shape1;\n    this.shape2 = shape2;\n  }\n\n  initiateBeatCircles() {\n    this.beatCircle1 = this.two.makeCircle(\n      this.state.render.origin.x,\n      this.state.render.origin.y - this.state.render.innerRadius,\n      this.state.ball.inner.bigRadius\n    );\n    this.beatCircle1.fill = this.state.ball.inner.fill;\n    this.beatCircle1.stroke = this.state.ball.inner.stroke;\n    this.beatCircle1.opacity = this.state.ball.animationOpacity;\n    this.beatCircle2 = this.two.makeCircle(\n      this.state.render.origin.x,\n      this.state.render.origin.y - this.state.render.outerRadius,\n      this.state.ball.outer.bigRadius\n    );\n    this.beatCircle2.fill = this.state.ball.outer.fill;\n    this.beatCircle2.stroke = this.state.ball.outer.stroke;\n    this.beatCircle2.opacity = this.state.ball.animationOpacity;\n  }\n\n  timelineSetup() {\n    let duration = (60 / this.state.tempo) * this.state.polygons.outer.sides;\n    let clicker1 = new Tone.Player({\n      url: hi\n    }).toMaster();\n    let clicker2 = new Tone.Player({\n      url: low\n    }).toMaster();\n\n    this.timeline1 = new TimelineMax({ repeat: -1 });\n    this.timeline2 = new TimelineMax({ repeat: -1 });\n    this.radiusFlash1 = new TimelineMax({ repeat: -1 });\n    this.radiusFlash2 = new TimelineMax({ repeat: -1 });\n\n    let points1 = this.shape1.points;\n    for (let i = 1; i <= points1.length; i++) {\n      this.timeline1.add(\n        TweenMax.to(this.beatCircle1.translation, 1, {\n          x: points1[i % this.shape1.sides].x,\n          y: points1[i % this.shape1.sides].y,\n          ease: this.state.ball.inner.radiusEasing,\n          onComplete: function() {\n            clicker1.start();\n          }\n        })\n      );\n    }\n    this.timeline1.duration(duration);\n\n    for (let i = 1; i <= points1.length; i++) {\n      this.radiusFlash1.add(\n        TweenMax.to(this.beatCircle1, 1, {\n          radius: this.state.ball.inner.smallRadius,\n          opacity: 1,\n          ease: Power4.easeOut\n        })\n      );\n      this.radiusFlash1.add(\n        TweenMax.to(this.beatCircle1, 1, {\n          radius: this.state.ball.inner.bigRadius,\n          opacity: this.state.ball.animationOpacity,\n          ease: this.state.ball.inner.radiusEasing\n        })\n      );\n    }\n    this.radiusFlash1.duration(duration);\n\n    let points2 = this.shape2.points;\n    for (let i = 1; i <= points2.length; i++) {\n      this.timeline2.add(\n        TweenMax.to(this.beatCircle2.translation, 1, {\n          x: points2[i % this.shape2.sides].x,\n          y: points2[i % this.shape2.sides].y,\n          ease: Power2.easeIn,\n          onComplete: function() {\n            clicker2.start();\n          }\n        })\n      );\n    }\n    this.timeline2.duration(duration);\n\n    for (let i = 1; i <= points2.length; i++) {\n      this.radiusFlash2.add(\n        TweenMax.to(this.beatCircle2, 1, {\n          radius: this.state.ball.outer.smallRadius,\n          opacity: 1,\n          ease: Power4.easeOut\n        })\n      );\n      this.radiusFlash2.add(\n        TweenMax.to(this.beatCircle2, 1, {\n          radius: this.state.ball.outer.bigRadius,\n          opacity: this.state.ball.animationOpacity,\n          ease: this.state.ball.outer.radiusEasing\n        })\n      );\n    }\n    this.radiusFlash2.duration(duration);\n  }\n\n  getPoints(shape, sides) {\n    let points = [];\n    for (let i = 0; i < sides; i++) {\n      let vertex = shape.vertices[i];\n      let point = this.rotatePoints(\n        this.state.render.origin.x,\n        this.state.render.origin.y,\n        this.state.render.origin.x - vertex.x,\n        this.state.render.origin.y - vertex.y,\n        180 / sides\n      );\n      points.push({ x: point[0], y: point[1] });\n    }\n    // points.push(points.shift());\n    // points.reverse()\n    return points;\n  }\n\n  rotatePoints(cx, cy, x, y, angle) {\n    let radians = (Math.PI / 180) * angle;\n    let cos = Math.cos(radians);\n    let sin = Math.sin(radians);\n    let nx = cos * (x - cx) + sin * (y - cy) + cx;\n    let ny = cos * (y - cy) - sin * (x - cx) + cy;\n    return [nx, ny];\n  }\n\n  render() {\n    return <div ref=\"geoCanvas\" className=\"geoCanvas\" />;\n  }\n}\n\nexport default Geometry;\n","import React from \"react\";\nimport Geometry from \"./components/Geometry\";\nimport \"bulma/css/bulma.css\";\nimport \"@fortawesome/fontawesome-free/css/all.css\";\nimport \"./App.scss\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.sides1 = 3;\n    this.sides2 = 4;\n    this.state = {\n      tempo: 100,\n      sides1: this.sides1,\n      sides2: this.sides2,\n      playing: false\n    };\n  }\n\n  handleStop = () => {\n    this.setState({ playing: false });\n  };\n\n  handleClick = e => {\n    this.setState({ playing: !this.state.playing });\n  };\n\n  handleTempo = e => {\n    if (e.target.value !== \"\") {\n      this.setState({ tempo: parseInt(e.target.value) });\n    }\n  };\n\n  handleSides1 = e => {\n    if (e.target.value !== \"\") {\n      this.sides1 = parseInt(e.target.value);\n      if (this.sides1 < 3) {\n        this.refs.sides1.value = 3;\n        this.sides1 = 3;\n        this.setState({ sides1: 3 });\n      } else {\n        this.setState({ sides1: this.sides1 });\n        if (this.sides1 >= this.sides2) {\n          this.sides2 = this.sides1 + 1;\n          this.refs.sides2.value = this.sides2;\n          this.setState({ sides2: this.sides2 });\n        }\n      }\n    }\n  };\n\n  handleSides2 = e => {\n    if (e.target.value !== \"\") {\n      this.sides2 = parseInt(e.target.value);\n      if (this.sides2 < 4) {\n        this.refs.sides2.value = 4;\n        this.sides2 = 4;\n        this.setState({ sides2: 4 });\n      } else {\n        this.setState({ sides2: this.sides2 });\n        if (this.sides2 <= this.sides1) {\n          this.sides1 = this.sides1 - 1;\n          this.refs.sides1.value = this.sides1;\n          this.setState({ sides1: this.sides1 });\n        }\n      }\n    }\n  };\n\n  render() {\n    return (\n      <div class=\"row\">\n        <section className=\"section\">\n          <div className=\"container\">\n            <div className=\"columns\">\n              <div className=\"column vCenter\">\n                <div className=\"box shadow\">\n                  <div className=\"bar\">\n                    <h6 class=\"title is-6\">polyrhythm metronome</h6>\n                  </div>\n                  <div className=\"bar\">\n                    <p className=\"paditem\">tempo</p>\n                    <input\n                      onInput={this.handleTempo}\n                      className=\"input paditem\"\n                      type=\"number\"\n                      defaultValue=\"100\"\n                      min=\"3\"\n                      max=\"1000\"\n                    />\n                    <button\n                      onClick={this.handleClick}\n                      className=\"button is-info paditem\"\n                    >\n                      {this.state.playing ? (\n                        <i class=\"fas fa-stop\" />\n                      ) : (\n                        <i class=\"fas fa-play\" />\n                      )}\n                    </button>\n                  </div>\n                  <div className=\"bar\">\n                    <input\n                      ref=\"sides2\"\n                      onInput={this.handleSides2}\n                      className=\"input is-info\"\n                      type=\"number\"\n                      defaultValue=\"4\"\n                      min=\"3\"\n                      max=\"100000\"\n                    />\n                    <input\n                      ref=\"sides1\"\n                      onInput={this.handleSides1}\n                      className=\"input is-danger\"\n                      type=\"number\"\n                      defaultValue=\"3\"\n                      min=\"3\"\n                      max=\"100000\"\n                    />\n                  </div>\n                </div>\n              </div>\n              <div className=\"column is-three-fifths\">\n                <Geometry\n                  tempo={this.state.tempo}\n                  playing={this.state.playing}\n                  sides1={this.state.sides1}\n                  sides2={this.state.sides2}\n                  handleStop={this.handleStop.bind(this)}\n                />\n              </div>\n            </div>\n          </div>\n        </section>\n        <div class=\"content has-text-centered foot\">\n          <p><strong>\n\n            made by {\" \"}\n            <a href=\"https://danielrmusic.com\">daniel rowe</a>\n          </strong>\n          </p>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}